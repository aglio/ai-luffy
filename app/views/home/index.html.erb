<div class="max-w-2xl mx-auto my-8">
  <div class="bg-base-200 p-4 rounded-box">
    <%= turbo_frame_tag "message_history" do %>
      <div class="h-96 overflow-y-auto mb-4 space-y-4">
        <% if @chat_record && @chat_record.messages.any? %>
          <%= render @chat_record.messages %>
        <% else %>
          <div class="text-center text-gray-500">No messages yet. Start the conversation!</div>
        <% end %>
      </div>
    <% end %>

    <%= form_with url: chat_records_path, method: :post, class: "flex", id: "message_form" do |form| %>
      <%= form.hidden_field :chat_record_id, value: @chat_record.id %>
      <%= form.text_field :message, class: "input input-bordered w-full", placeholder: "Type your message..." %>
      <%= form.button "Send", class: "btn btn-primary ml-2" %>
    <% end %>
  </div>
</div>

